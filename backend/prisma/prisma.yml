# The endpoint property encodes the information of service, stage and cluster.
endpoint: ${env:PRISMA_ENDPOINT}

# to disable authentication:
# disableAuth: true
secret: ${env:PRISMA_SECRET}

# the file path pointing to your data model
datamodel: datamodel.graphql

# Semeia o BD com dados iniciais (veja seed/seed.ts)
seed:
  run: npx ts-node -r dotenv/config prisma/seed/seed.ts

# "prisma generate" doesn't work yet because there's
# more than one instance of "graphql" in the node_modules
hooks:
  post-deploy:
    - npm run clean:files
    - npm run copy:files
    - tree ./files
    - graphql get-schema -p prisma
    - graphql codegen
    - prisma generate

generate:
  - generator: typescript-client
    output: ../src/generated/prisma-client/
